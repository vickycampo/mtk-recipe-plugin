!function i(l,s,o){function d(t,e){if(!s[t]){if(!l[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var a=s[t]={exports:{}};l[t][0].call(a.exports,function(e){return d(l[t][1][e]||e)},a,a.exports,i,l,s,o)}return s[t].exports}for(var c="function"==typeof require&&require,e=0;e<o.length;e++)d(o[e]);return d}({1:[function(e,t,n){"use strict";window.addEventListener("load",function(){var s;function o(e,t){var n=b(I(e),e.replace("]",""),t.id),r=$("#"+n.parent.LastValidId).clone(!0);r.attr("id",n.parent.FirstAvailable),$(r).insertAfter("#"+n.parent.LastValidId),h(n.simple.LastValidId,n.simple.FirstAvailable,n.parent.FirstAvailable),s=n.parent.FirstAvailable}function I(e){return e.substring(0,e.lastIndexOf("_"))}function L(e){for(var t,n,r=0,a=!0;a;)0<$("#"+e+"_"+r).length?(t=e+"_"+r,r++):(n=e+"_"+r,a=!1);var i=new Array;return i.LastValidId=t,i.FirstAvailable=n,i}function b(e,t,n){var r,a,i=0,l=!0,s=new Array;for(s.simple=new Array,s.parent=new Array;l;){var o=n.replace(t,e+"_"+i);s.parent.FirstAvailable=o,0<$("#"+o).length?(s.parent.LastValidId=o,r=e+"_"+i,i++):(a=e+"_"+i,l=!1)}return s.simple.LastValidId=r,s.simple.FirstAvailable=a,s}function h(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";if(""==n)var r=document.getElementById(t);else r=document.getElementById(n);for(var a=r.querySelectorAll("*"),i=0;i<a.length;i++)if(-1<a[i].id.indexOf(e)){var l=a[i].id.replace(e,t);for(var s in a[i].id=l,a[i].attributes)if("name"===a[i].attributes[s].name){var o=a[i].attributes[s].value.replace(e,t);a[i].attributes[s].value=o}}}$(".addButton").click(function(e){!function(e){var t=document.getElementById(e.target.id).parentElement,n=t.parentElement,r=n.parentElement,a=e.target.id.split("-"),i=a.length-4,l=a[i];t.classList.contains("Section_div")?function(e){var t=I(e),n=new Array,r=(n=L(t)).LastValidId,a=n.FirstAvailable,i=$("#"+r).clone(!0);i.attr("id",a),$(i).insertAfter("#"+r),h(r,a),s=a}(l):t.classList.contains("SubSection_title_h3")?o(l,r):t.classList.contains("Item_sub_td")?o(l,n):t.classList.contains("Item_input_div")?o(l,t):(console.log("Why am I here?-------------------------"),console.log("parent id - "+t.id),console.log(t),console.log("grandparent id - "+n.id),console.log(n),console.log("GreatGrandParent id - "+r.id),console.log(r),console.log("lastId id - "+l));!function e(t){if(t)for(var n=t.childNodes,r=0;r<n.length;r++)if("INPUT"==n[r].nodeName){if(n[r].value="",-1<n[r].name.indexOf("step_number")){var a=n[r].name.substring(n[r].name.indexOf("recipe_instructions_step_")+25,n[r].name.indexOf("recipe_instructions_step_")+27);Number(a)||(a=Number(a.replace("]",""))),a++,n[r].value=a}}else(1<n[r].childNodes.length||"DIV"!=n[r].nodeName)&&e(n[r])}(document.getElementById(s))}(e)}),$(".removeButton").click(function(e){!function(e){var t=e.target.id.split("-"),n=t.length-4,r=t[n];n=t.length-6;t[n];var a=document.getElementById(e.target.id).parentElement,i=a.parentElement,l=i.parentElement;{if(a.classList.contains("Section_div")){var s,o=I(r),d=L(o);if(r===o+"_0"&&d.LastValidId===o+"_0")return;if(d.LastValidId===r)return $("#"+r).remove();$("#"+r).remove();for(var c=r.replace(o+"_",""),u=d.LastValidId.replace(o+"_","");c<u;)s=++c-1,(g=document.getElementById(o+"_"+c)).id=o+"_"+s;return}if(a.classList.contains("SubSection_title_h3"))var f=l;else if(a.classList.contains("Item_sub_td"))var f=i;else{if(!a.classList.contains("Item_input_div"))return console.log("Why am I here?-------------------------");var f=a}var o=I(r),v=f.id,d=b(o,r,v);if(r===o+"_0"&&d.simple.LastValidId===o+"_0")return;if(d.parent.LastValidId===r)return $("#"+r).remove();var c=parseInt(r.replace(o+"_","")),p=parseInt(d.simple.LastValidId.replace(o+"_","")),n=c;for($("#"+v).remove();n<p;){s=++n-1;var m=v.replace(r,o+"_"+n),_=v.replace(r,o+"_"+s),g=document.getElementById(m);g?g.id=_:console.log("not found - "+n+" - "+u),h(o+"_"+n,o+"_"+s,_)}}}(e)})})},{}]},{},[1]);
//# sourceMappingURL=cpt_customFields.js.map

{"version":3,"sources":["myscript.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","console","log","window","addEventListener","tabs","document","querySelectorAll","optionsArray","Array","options","querySelector","inputArrayValues","j","value","createInputArray","switchTab","event","preventDefault","classList","remove","clickedTab","currentTarget","activePaneId","target","getAttribute","add","index","addEventListeners","addFieldsButton","removeFieldsButton","customFields_ID_input","customFields_Name_input","customFields_Type_select","addField","removeField","updateParentSelector","inputElement","isArray","$","append","targetId","id","replace","optionText","customFields_Parent_select","previousValue","select_id","empty","val","jQuery","ready","on","$button","this","file_frame","wp","media","frames","title","library","type","button","text","multiple","attachment","state","get","first","toJSON","siblings","url","attr","open"],"mappings":"CAAY,SAASA,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAE,mBAAmBC,SAASA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAI,IAAIK,EAAE,IAAIC,MAAM,uBAAuBN,EAAE,KAAK,MAAMK,EAAEE,KAAK,mBAAmBF,EAAE,IAAIG,EAAEX,EAAEG,GAAG,CAACS,QAAQ,IAAIb,EAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAoB,OAAOI,EAAlBH,EAAEI,GAAG,GAAGL,IAAeA,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGS,QAAQ,IAAI,IAAIL,EAAE,mBAAmBD,SAASA,QAAQH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,IAAI,OAAOD,EAA7b,CAA4c,CAACa,EAAE,CAAC,SAAST,EAAQU,EAAOJ,GACxe,aAcAK,QAAQC,IAAI,gBAGZC,OAAOC,iBAAiB,OAAQ,WAE3BH,QAAQC,IAAI,gBAOZ,IAAIG,EAAOC,SAASC,iBAAiB,oBACjCC,EAAe,IAAIC,MAEvBD,EAEA,WAEK,IAAIE,EAAUJ,SAASK,cAAc,6BAA6BD,QAClE,CAAA,GAAIA,EAAS,CAER,IAAIE,EAAmB,IAAIH,MACvBI,EAAI,EACR,IAAK,IAAI1B,KAAKuB,EACLA,EAAQvB,GAAG2B,OAA6B,IAApBJ,EAAQvB,GAAG2B,QAE9BF,EAAiBC,GAAKH,EAAQvB,GAAG2B,MACjCD,KAIV,OAAOD,EAOP,IAAIA,EAAmB,IAAIH,MACvBtB,EAAI,EAkDR,OAhDAyB,EAAiBzB,GAAK,SAEtByB,IADAzB,GACsB,WAEtByB,IADAzB,GACsB,SAEtByB,IADAzB,GACsB,WAEtByB,IADAzB,GACsB,QAEtByB,IADAzB,GACsB,OAEtByB,IADAzB,GACsB,iBAEtByB,IADAzB,GACsB,QAEtByB,IADAzB,GACsB,OAEtByB,IADAzB,GACsB,SAEtByB,IADAzB,GACsB,QAEtByB,IADAzB,GACsB,QAEtByB,IADAzB,GACsB,SAEtByB,IADAzB,GACsB,WAEtByB,IADAzB,GACsB,QAEtByB,IADAzB,GACsB,QAEtByB,IADAzB,GACsB,QAEtByB,IADAzB,GACsB,SAEtByB,IADAzB,GACsB,SAEtByB,IADAzB,GACsB,MAEtByB,IADAzB,GACsB,OAEtByB,IADAzB,GACsB,OAEtByB,IADAzB,GACsB,MAEtByB,IADAzB,GACsB,OACtBA,IACOyB,GA3EFG,GA8Ef,IAAK,IAAI5B,EAAI,EAAGA,EAAIkB,EAAKP,OAAQX,IAC5BkB,EAAKlB,GAAGiB,iBAAiB,QAASY,GAEvC,SAASA,EAAUC,GAEdA,EAAMC,iBAGNZ,SAASK,cAAc,2BAA2BQ,UAAUC,OAAO,UACnEd,SAASK,cAAc,oBAAoBQ,UAAUC,OAAO,UAG5D,IAAIC,EAAaJ,EAAMK,cAEnBC,EADSN,EAAMO,OACOC,aAAa,QAGvCJ,EAAWF,UAAUO,IAAI,UACzBpB,SAASK,cAAcY,GAAcJ,UAAUO,IAAI,UAKxD,IAAIC,EAAQ,EACU,IAAIlB,MACD,IAAIA,MAG7B,SAASmB,IAEJ,IAAIC,EAAkBvB,SAASC,iBAAiB,2BAC5CuB,EAAqBxB,SAASC,iBAAiB,8BAC/CwB,EAAwBzB,SAASC,iBAAiB,0BAClDyB,EAA0B1B,SAASC,iBAAiB,4BACpD0B,EAA2B3B,SAASC,iBAAiB,6BAEzDoB,EAAQE,EAAgB/B,OAAS,EACjC,IAAK,IAAIX,EAAI,EAAGA,EAAI0C,EAAgB/B,OAAQX,IACvC0C,EAAgB1C,GAAGiB,iBAAiB,QAAS8B,GAElD,IAAS/C,EAAI,EAAGA,EAAI2C,EAAmBhC,OAAQX,IAC1C2C,EAAmB3C,GAAGiB,iBAAiB,QAAS+B,GAErD,IAAShD,EAAI,EAAGA,EAAI4C,EAAsBjC,OAAQX,IAC7C4C,EAAsB5C,GAAGiB,iBAAiB,SAAUgC,GACpDJ,EAAwB7C,GAAGiB,iBAAiB,SAAUgC,GACtDH,EAAyB9C,GAAGiB,iBAAiB,SAAUgC,GAIjE,SAASF,EAASjB,GAIb,IAAIoB,EAAe,+DAFnBV,EAEyF,KAQzF,GAPAU,GAAgB,uHAAyHV,EAAQ,6CACjJU,GAAgB,yHAA2HV,EAAQ,+CAGnJU,GAAgB,+GAAiHV,EAAQ,YACzIU,GAAgB,uCAEZ5B,MAAM6B,QAAQ9B,GACb,IAAK,IAAIrB,EAAI,EAAGA,EAAIqB,EAAaV,OAAQX,IACpCkD,GAAgB,kBAAoB7B,EAAarB,GAAK,MAAQqB,EAAarB,GAAK,YAsB1F,GAlBAkD,GAAgB,YAGhBA,GAAgB,sBAAwBV,EAAQ,2GAA6GA,EAAQ,eACrKU,GAAgB,0CAChBA,GAAgB,YAGhBA,GAAgB,8CAAgDV,EAAQ,oHAAsHA,EAAQ,oCAGtMU,GAAgB,kGAAoGV,EAAQ,aAC5HU,GAAgB,uGAAyGV,EAAQ,YACjIU,GAAgB,SAEhBE,EAAE,2BAA2BC,OAAOH,IAG/B5B,MAAM6B,QAAQ9B,GAAe,CAC7BP,QAAQC,IAAI,uCAAyCyB,EAAQ,aAC7D,IAAIH,EAASlB,SAASK,cAAc,uCAAyCgB,EAAQ,aACrF1B,QAAQC,IAAIsB,GACZA,EAAOgB,OAAOhC,GAGnBoB,IACAQ,IAEL,SAASD,EAAYlB,GAChB,GAAY,EAARU,EAAW,CAGV,IAAIc,EAAWxB,EAAMO,OAAOkB,GAAGC,QAAQ,UAAW,IAClDJ,EAAE,2BAA6BE,GAAUrB,SACzCQ,KAGV,SAASQ,EAAqBrD,GASzB,IAPA,IAAIgD,EAAwBzB,SAASC,iBAAiB,0BAClDyB,EAA0B1B,SAASC,iBAAiB,4BACpD0B,EAA2B3B,SAASC,iBAAiB,6BAGrDqC,GADe,IAAInC,MACN,2CAERtB,EAAI,EAAGA,EAAI4C,EAAsBjC,OAAQX,IAEH,YAAtC8C,EAAyB9C,GAAG2B,OAA6D,eAAtCmB,EAAyB9C,GAAG2B,OAAgE,SAAtCmB,EAAyB9C,GAAG2B,QACpI8B,GAAc,kBAAoBb,EAAsB5C,GAAG2B,MAAQ,KAAOkB,EAAwB7C,GAAG2B,MAAQ,aAIvH,IAAI+B,EAA6BvC,SAASC,iBAAiB,+BAC3D,IAASpB,EAAI,EAAGA,EAAI0D,EAA2B/C,OAAQX,IAAK,CAEvD,IAAI2D,EAAgBD,EAA2B1D,GAAG2B,MAC9CiC,EAAY,IAAMF,EAA2B1D,GAAGuD,GAEpDH,EAAEQ,GAAWC,QAAQR,OAAOI,GAE5BL,EAAEQ,GAAWE,IAAIH,IAtG3BlB,MAmHLsB,OAAO5C,UAAU6C,MAAM,SAAUZ,GAK5BA,EAAEjC,UAAU8C,GAAG,QAAS,mBAAoB,SAAUrE,GAEjDA,EAAEmC,iBACF,IAAImC,EAAUd,EAAEe,MACZC,EAAaC,GAAGC,MAAMC,OAAOH,WAAaC,GAAGC,MAAM,CAClDE,MAAO,4BACPC,QAAS,CACJC,KAAM,SAEXC,OAAQ,CACHC,KAAM,gBAEXC,UAAU,IAEfT,EAAWH,GAAG,SAAU,WACnB,IAAIa,EAAaV,EAAWW,QAAQC,IAAI,aAAaC,QAAQC,SAC7DhB,EAAQiB,SAAS,iBAAiBrB,IAAIgB,EAAWM,KAC7CN,EAAaV,EAAWW,QAAQC,IAAI,aAAaC,QAAQC,SAC7DhB,EAAQiB,SAAS,iBAAiBrB,IAAIgB,EAAWM,KAEjDhC,EAAE,uBAAwB,2BAA2BU,IAAI,QACzDV,EAAE,uBAAwB,2BAA2BiC,KAAK,YAAY,KAG3EjB,EAAWkB,YAInB,KAAK,GAAG,CAAC","file":"myscript.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n'use strict';\n\n/*\r\n*\r\n@package mkt-recipe-plugin\r\n\r\n     ===================================\r\n          MYSCRIPT.JS\r\n     ===================================\r\n*\r\n*\r\n*/\n/* Function to control the multiple tabs */\n/* Import the files for code-prettify */\nconsole.log('uncomment 13');\n//import 'code-prettify';\n/* The function that handles the tabs */\nwindow.addEventListener(\"load\", function () {\n     /* Load the code prettify function */\n     console.log('uncomment 19');\n     //PR.prettyPrint();\n\n     //   -----------------------------------------\n     //        Add the event to the tab buttons\n     //   -----------------------------------------\n     //Store tabs variables\n     var tabs = document.querySelectorAll(\"ul.nav-tabs > li\");\n     var optionsArray = new Array();\n     /* We create an array with all the values from a previous field */\n     optionsArray = createInputArray();\n\n     function createInputArray() {\n          /* we look for a previous created select */\n          var options = document.querySelector('.customFields_Type_select').options;\n          if (options) {\n               /* Convert to an array  */\n               var inputArrayValues = new Array();\n               var j = 0;\n               for (var i in options) {\n                    if (options[i].value && options[i].value != '') {\n                         //console.log (options[i]);\n                         inputArrayValues[j] = options[i].value;\n                         j++;\n                    }\n               }\n\n               return inputArrayValues;\n          } else {\n               /* if we can't find one we use the default values */\n               /* add the select */\n               /* We create an array with all the select values */\n               /* We get the values from a predefined select */\n\n               var inputArrayValues = new Array();\n               var i = 0;\n\n               inputArrayValues[i] = 'button';\n               i++;\n               inputArrayValues[i] = 'checkbox';\n               i++;\n               inputArrayValues[i] = 'button';\n               i++;\n               inputArrayValues[i] = 'checkbox';\n               i++;\n               inputArrayValues[i] = 'color';\n               i++;\n               inputArrayValues[i] = 'date';\n               i++;\n               inputArrayValues[i] = 'datetime-local';\n               i++;\n               inputArrayValues[i] = 'email';\n               i++;\n               inputArrayValues[i] = 'file';\n               i++;\n               inputArrayValues[i] = 'hidden';\n               i++;\n               inputArrayValues[i] = 'image';\n               i++;\n               inputArrayValues[i] = 'month';\n               i++;\n               inputArrayValues[i] = 'number';\n               i++;\n               inputArrayValues[i] = 'password';\n               i++;\n               inputArrayValues[i] = 'radio';\n               i++;\n               inputArrayValues[i] = 'range';\n               i++;\n               inputArrayValues[i] = 'reset';\n               i++;\n               inputArrayValues[i] = 'search';\n               i++;\n               inputArrayValues[i] = 'submit';\n               i++;\n               inputArrayValues[i] = 'tel';\n               i++;\n               inputArrayValues[i] = 'text';\n               i++;\n               inputArrayValues[i] = 'time';\n               i++;\n               inputArrayValues[i] = 'url';\n               i++;\n               inputArrayValues[i] = 'week';\n               i++;\n               return inputArrayValues;\n          }\n     }\n     for (var i = 0; i < tabs.length; i++) {\n          tabs[i].addEventListener(\"click\", switchTab);\n     }\n     function switchTab(event) {\n          //Prevent from modifying the url\n          event.preventDefault();\n\n          //Remove all active classes\n          document.querySelector(\"ul.nav-tabs > li.active\").classList.remove(\"active\");\n          document.querySelector(\".tab-pane.active\").classList.remove(\"active\");\n\n          //Assing the clicked tab to a variable\n          var clickedTab = event.currentTarget;\n          var anchor = event.target;\n          var activePaneId = anchor.getAttribute(\"href\");\n\n          //Assign the active class\n          clickedTab.classList.add(\"active\");\n          document.querySelector(activePaneId).classList.add(\"active\");\n     }\n     //   --------------------------------------------------\n     //        MANAGE THE CUSTOM FIELDS PART\n     //   --------------------------------------------------\n     var index = 0;\n     var addFieldsButton = new Array();\n     var removeFieldsButton = new Array();\n\n     addEventListeners();\n     function addEventListeners() {\n          /* add event listener to the add and remove buttons */\n          var addFieldsButton = document.querySelectorAll(\".customFields_addButton\");\n          var removeFieldsButton = document.querySelectorAll(\".customFields_removeButton\");\n          var customFields_ID_input = document.querySelectorAll(\".customFields_ID_input\");\n          var customFields_Name_input = document.querySelectorAll(\".customFields_Name_input\");\n          var customFields_Type_select = document.querySelectorAll(\".customFields_Type_select\");\n\n          index = addFieldsButton.length - 1;\n          for (var i = 0; i < addFieldsButton.length; i++) {\n               addFieldsButton[i].addEventListener(\"click\", addField);\n          }\n          for (var i = 0; i < removeFieldsButton.length; i++) {\n               removeFieldsButton[i].addEventListener(\"click\", removeField);\n          }\n          for (var i = 0; i < customFields_ID_input.length; i++) {\n               customFields_ID_input[i].addEventListener(\"change\", updateParentSelector);\n               customFields_Name_input[i].addEventListener(\"change\", updateParentSelector);\n               customFields_Type_select[i].addEventListener(\"change\", updateParentSelector);\n          }\n     }\n\n     function addField(event) {\n          /* next index */\n          index++;\n          /* We have to add an element like the previous*/\n          var inputElement = '<div class=\"customFields_div\" id=\"customFields_container_' + index + '\">';\n          inputElement += '<input type=\"text\" class=\"regular-text customFields_input customFields_ID_input\" name=\"mtk_plugin_cpt[customFields][' + index + '][ID]\" placeholder=\"author_name\" value=\"\">';\n          inputElement += '<input type=\"text\" class=\"regular-text customFields_input customFields_Name_input\" name=\"mtk_plugin_cpt[customFields][' + index + '][Name]\" placeholder=\"author_name\" value=\"\">';\n\n          /* Create the select */\n          inputElement += '<select class=\"regular-text customFields_input customFields_Type_select\" name=\"mtk_plugin_cpt[customFields][' + index + '][Type]\">';\n          inputElement += '<option value=\"\">Input Type</option>';\n          /* Add the options in the array */\n          if (Array.isArray(optionsArray)) {\n               for (var i = 0; i < optionsArray.length; i++) {\n                    inputElement += '<option value=\"' + optionsArray[i] + '\" >' + optionsArray[i] + '</option>';\n               }\n          }\n\n          inputElement += '</select>';\n\n          /* add the parent selec  */\n          inputElement += '<select id=\"Parent_' + index + '\" class=\"regular-text customFields_input customFields_Parent_select\" name=\"mtk_plugin_cpt[customFields][' + index + '][Parent]\" >';\n          inputElement += '<option value=\"\">Choose Parent</option>';\n          inputElement += '</select>';\n\n          /* Column show checkbox */\n          inputElement += '<input type=\"checkbox\" id=\"Show_in_columns_' + index + '\" class=\"regular-text customFields_input customFields_Show_in_columns_select\" name=\"mtk_plugin_cpt[customFields][' + index + '][Show_in_columns]\" value=\"true\">';\n\n          /* add the add and remove buttons */\n          inputElement += '<span class=\"dashicons dashicons-plus-alt add-substract-button customFields_addButton\" id=\"add_' + index + '\" ></span>';\n          inputElement += '<span class=\"dashicons dashicons-dismiss add-substract-button customFields_removeButton\" id=\"remove_' + index + '\"></span>';\n          inputElement += '</div>';\n          /* Append the elements */\n          $(\".customFields_container\").append(inputElement);\n\n          /* Adda elements to the select object */\n          if (!Array.isArray(optionsArray)) {\n               console.log('[name=\"mtk_plugin_cpt[customFields][' + index + '][Type]\"]');\n               var target = document.querySelector('[name=\"mtk_plugin_cpt[customFields][' + index + '][Type]\"]');\n               console.log(target);\n               target.append(optionsArray);\n          }\n          /* Add event Listeners */\n          addEventListeners();\n          updateParentSelector();\n     }\n     function removeField(event) {\n          if (index > 0) {\n               /* Get the parent */\n\n               var targetId = event.target.id.replace('remove_', '');\n               $('#customFields_container_' + targetId).remove();\n               addEventListeners();\n          }\n     }\n     function updateParentSelector(e) {\n          //console.log ( e );\n          var customFields_ID_input = document.querySelectorAll(\".customFields_ID_input\");\n          var customFields_Name_input = document.querySelectorAll(\".customFields_Name_input\");\n          var customFields_Type_select = document.querySelectorAll(\".customFields_Type_select\");\n\n          var optionsArray = new Array();\n          var optionText = '<option value=\"\">Choose Parent</option>';\n          /* Get the combination that is needed for the select into an array */\n          for (var i = 0; i < customFields_ID_input.length; i++) {\n               //console.log (customFields_Type_select[i].value);\n               if (customFields_Type_select[i].value === 'Section' || customFields_Type_select[i].value === 'SubSection' || customFields_Type_select[i].value === 'Item') {\n                    optionText += '<option value=\"' + customFields_ID_input[i].value + '\">' + customFields_Name_input[i].value + '</option>';\n               }\n          }\n          /* update the customFields_Parent_select*/\n          var customFields_Parent_select = document.querySelectorAll(\".customFields_Parent_select\");\n          for (var i = 0; i < customFields_Parent_select.length; i++) {\n               //console.log (customFields_Parent_select[i].value);\n               var previousValue = customFields_Parent_select[i].value;\n               var select_id = '#' + customFields_Parent_select[i].id;\n\n               $(select_id).empty().append(optionText);\n\n               $(select_id).val(previousValue);\n          }\n     }\n     //   --------------------------------------------------\n     //        SANITIZE THE CPT SETTING FORM\n     //   --------------------------------------------------\n});\n//   --------------------------------------------------\n//        IMAGE FIELD OF THE WIDGET\n//   --------------------------------------------------\n/* Function to add the image to the widget field */\n/* Access the jquery */\n//only when the document is ready\njQuery(document).ready(function ($) {\n     /* Event listener*/\n     //when the document is clicked,\n     //on an elements with this class js-image-upload\n     //ejecutes the function sending the target element e\n     $(document).on('click', '.js-image-upload', function (e) {\n          /*  Prevent the default behavior of the element */\n          e.preventDefault();\n          var $button = $(this);\n          var file_frame = wp.media.frames.file_frame = wp.media({\n               title: 'Select or Upload an Image',\n               library: {\n                    type: 'image' // mime type\n               },\n               button: {\n                    text: 'Select Image'\n               },\n               multiple: false\n          });\n          file_frame.on('select', function () {\n               var attachment = file_frame.state().get('selection').first().toJSON();\n               $button.siblings('.image-upload').val(attachment.url);\n               var attachment = file_frame.state().get('selection').first().toJSON();\n               $button.siblings('.image-upload').val(attachment.url);\n               /*  Enable the Widget save button */\n               $('.widget-control-save', '.widget-control-actions').val('Save');\n               $('.widget-control-save', '.widget-control-actions').attr(\"disabled\", false);\n          });\n\n          file_frame.open();\n     });\n});\n\n},{}]},{},[1]);\n"]}